{"remainingRequest":"/home/antz/vscode/Web/onefocus/vue-focus/node_modules/babel-loader/lib/index.js!/home/antz/vscode/Web/onefocus/vue-focus/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/antz/vscode/Web/onefocus/vue-focus/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/antz/vscode/Web/onefocus/vue-focus/src/views/ToDos.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/antz/vscode/Web/onefocus/vue-focus/src/views/ToDos.vue","mtime":1621453194434},{"path":"/home/antz/vscode/Web/onefocus/vue-focus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/antz/vscode/Web/onefocus/vue-focus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/antz/vscode/Web/onefocus/vue-focus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/antz/vscode/Web/onefocus/vue-focus/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVG9Eb3MnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50OiAnJywKICAgICAgbW90aXZhdGlvbjogJycsCiAgICAgIGhvdXJzOiAwLAogICAgICBtaW5zOiAwLAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRpbWU6IGZ1bmN0aW9uIHRpbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLmhvdXJzICogNjAgKyB0aGlzLm1pbnM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgIGlmICh0aGlzLmNvbnRlbnQgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnRW50ZXIgYSB0YXNrJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRpbWUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnRW50ZXIgYSB0aW1lJyk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXJyb3JzKTsKCiAgICAgIGlmICghdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LAogICAgICAgICAgbW90aXZhdGlvbjogdGhpcy5tb3RpdmF0aW9uLAogICAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgICAgY29tcGxldGVkOiBmYWxzZQogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9jcmVhdGUtdGFzay8iLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogJ1Rhc2sgY3JlYXRlZC4nLAogICAgICAgICAgICB0eXBlOiAnaXMtc3VjY2VzcycsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/antz/vscode/Web/onefocus/vue-focus/src/views/ToDos.vue"],"names":[],"mappings":";AA2BA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,EADJ;AAEL,MAAA,UAAU,EAAE,EAFP;AAGL,MAAA,KAAK,EAAE,CAHF;AAIL,MAAA,IAAI,EAAE,CAJD;AAKL,MAAA,MAAM,EAAE;AALH,KAAP;AAOD,GAVY;AAWb,EAAA,QAAQ,EAAE;AACR,IAAA,IADQ,kBACD;AACL,aAAO,KAAK,KAAL,GAAW,EAAX,GAAc,KAAK,IAA1B;AACD;AAHO,GAXG;AAgBb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACM;AAAA;;AACX,WAAK,MAAL,GAAc,EAAd;;AAEA,UAAI,KAAK,OAAL,KAAiB,EAArB,EAAyB;AACvB,aAAK,MAAL,CAAY,IAAZ,CAAiB,cAAjB;AACF;;AAEA,UAAI,KAAK,IAAL,KAAc,EAAlB,EAAsB;AACpB,aAAK,MAAL,CAAY,IAAZ,CAAiB,cAAjB;AACF;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB;;AAEA,UAAI,CAAC,KAAK,MAAL,CAAY,MAAjB,EAAyB;AACvB,YAAM,QAAO,GAAI;AACf,UAAA,OAAO,EAAE,KAAK,OADC;AAEf,UAAA,UAAU,EAAE,KAAK,UAFF;AAGf,UAAA,IAAI,EAAE,KAAK,IAHI;AAIf,UAAA,SAAS,EAAE;AAJI,SAAjB;AAOA,QAAA,KAAI,CACD,IADH,CACQ,sBADR,EACgC,QADhC,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,UAAA,KAAK,CAAC;AACJ,YAAA,OAAO,EAAE,eADL;AAEJ,YAAA,IAAI,EAAE,YAFF;AAGJ,YAAA,WAAW,EAAE,IAHT;AAIJ,YAAA,YAAY,EAAE,IAJV;AAKJ,YAAA,QAAQ,EAAE,IALN;AAMJ,YAAA,QAAQ,EAAE;AANN,WAAD,CAAL;;AASA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,SAbH,EAcG,KAdH,CAcS,UAAA,KAAI,EAAK;AACd,cAAI,KAAK,CAAC,QAAV,EAAoB;AAClB,iBAAK,IAAM,QAAX,IAAuB,KAAK,CAAC,QAAN,CAAe,IAAtC,EAA4C;AAC1C,cAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,WAAoB,QAApB,eAAiC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,QAApB,CAAjC;AACF;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAN,CAAe,IAA9B,CAAZ;AAEF,WAPA,MAOO,IAAI,KAAK,CAAC,OAAV,EAAmB;AACxB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,wCAAjB;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,CAAZ;AACF;AACD,SA3BH;AA4BF;AACF;AAlDO;AAhBI,CAAf","sourcesContent":["<template>\n  <div id=\"todos\">\n    <form @submit.prevent=\"submitForm\" class=\"task-form\" id=\"createTask\">\n      <div>\n        <label>What's the task?</label>\n        <br>\n        <input type=\"text\" v-model=\"content\">\n      </div>\n      <div>\n        <label>What's the motivation? (optional)</label>\n        <br>\n        <input type=\"text\" v-model=\"motivation\">\n      </div>\n      <div>\n        <label>How long will it take?</label>\n        <br>\n        <input class=\"num-input\" type=\"number\" min=\"0\" max=\"23\" placeholder=\"00\" step=\"1\" v-model.number=\"hours\"> hours, \n        <input class=\"num-input\" type=\"number\" min=\"0\" max=\"59\" placeholder=\"00\" step=\"5\" v-model.number=\"mins\"> mins\n      </div>\n      <div>\n        <button form=\"createTask\">Create Todo</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nexport default {\n  name: 'ToDos',\n  data() {\n    return {\n      content: '',\n      motivation: '',\n      hours: 0,\n      mins: 0,\n      errors: []\n    }\n  },\n  computed: {\n    time() {\n      return this.hours*60+this.mins\n    },\n  },\n  methods: {\n    submitForm() {\n      this.errors = []\n\n      if (this.content === '') {\n        this.errors.push('Enter a task')\n      }\n\n      if (this.time === '') {\n        this.errors.push('Enter a time')\n      }\n      console.log(this.errors)\n\n      if (!this.errors.length) {\n        const formData = {\n          content: this.content,\n          motivation: this.motivation,\n          time: this.time,\n          completed: false\n        }\n\n        axios\n          .post(\"/api/v1/create-task/\", formData)\n          .then(response => {\n            toast({\n              message: 'Task created.',\n              type: 'is-success',\n              dismissible: true,\n              pauseOnHover: true,\n              duration: 2000,\n              position: 'bottom-right',\n            })\n\n            this.$router.push('/')\n          })\n          .catch(error => {\n            if (error.response) {\n              for (const property in error.response.data) {\n                this.errors.push(`${property}: ${error.response.data[property]}`)\n              }\n\n              console.log(JSON.stringify(error.response.data))\n\n            } else if (error.message) {\n              this.errors.push('Something went wrong. Please try again')\n\n              console.log(JSON.stringify(error))\n            }\n          })\n      }\n    }\n  }\n\n}\n</script>\n\n<style>\n\n#todos {\n  height: 100vh;\n}\n\n</style>"],"sourceRoot":""}]}